import{P as R,S as M,N as B,a as x}from"./assets/vendor-_KeN8Zr_.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const P="bigiolo-lang";let f={};async function _(e){f=await(await fetch(`/Bigiolo_lending/locales/${e}.json`)).json()}function E(e,t){return t.split(".").reduce((n,a)=>n&&n[a]!==void 0?n[a]:null,e)}function N(){document.querySelectorAll("[data-i18n]").forEach(e=>{const t=e.dataset.i18n,n=E(f,t);n!==null&&(e.textContent=n)}),document.querySelectorAll("[data-i18n-html]").forEach(e=>{const t=e.dataset.i18nHtml,n=E(f,t);n!==null&&(e.innerHTML=n)})}function F(e){document.querySelectorAll("[data-lang]").forEach(t=>{t.classList.toggle("is-active",t.dataset.lang===e)})}async function h(e){await _(e),N(),F(e),localStorage.setItem(P,e)}(async function(){const t=localStorage.getItem(P),n=navigator.language.startsWith("en")?"en":"it";await h(t||n),document.addEventListener("click",s=>{const o=s.target.closest("[data-lang]");if(!o)return;const r=o.dataset.lang;h(r)})})();const p=document.querySelectorAll(".nav-link"),H=document.querySelectorAll("section[id]"),k=document.querySelector(".header");p.forEach(e=>{e.addEventListener("click",()=>{p.forEach(t=>t.classList.remove("current")),e.classList.add("current")})});const $=new IntersectionObserver(e=>{e.forEach(t=>{if(t.isIntersecting){const n=t.target.id;p.forEach(a=>{a.classList.toggle("current",a.getAttribute("href")===`#${n}`)})}})},{threshold:.6});H.forEach(e=>$.observe(e));const V=80;window.addEventListener("scroll",()=>{window.scrollY>V?k.classList.add("header--scrolled"):k.classList.remove("header--scrolled")});const G=document.querySelector("[data-header-open]"),v=document.querySelector("[data-menu]"),K=document.querySelector("[data-menu-close]"),U=document.querySelectorAll(".mob-nav-link");function Y(){v.classList.add("is-open"),document.body.classList.add("no-scroll"),document.addEventListener("keydown",y)}function y(e){e.type==="keydown"&&e.key!=="Escape"||(v.classList.remove("is-open"),document.body.classList.remove("no-scroll"),document.removeEventListener("keydown",y))}G.addEventListener("click",Y);K.addEventListener("click",y);U.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=e.getAttribute("href").substring(1),a=document.getElementById(n);a&&(v.classList.remove("is-open"),document.body.classList.remove("no-scroll"),a.scrollIntoView({behavior:"smooth"}))})});const m=document.querySelector(".feedback-container .swiper-wrapper"),w=document.querySelector("#feedback-form"),j="https://docs.google.com/spreadsheets/d/e/2PACX-1vSmwbeh0wcfzPaoNP18jTO7b5qbPxUKGZW55oibzdkk_qyXE0K8X85JqPh_fBGQG45bY6sRlRhAT9Hc/pub?output=csv",S="https://docs.google.com/forms/d/e/1FAIpQLSflntMv2qac48f8k4ADYZS8z0eyvngR8slREOns0hMUm943mA/formResponse";w&&S&&(w.action=S);let c;async function z(){try{const t=await(await fetch(j)).text(),n=R.parse(t,{header:!0,skipEmptyLines:!0});if(!m)return;m.innerHTML="",n.data.forEach(a=>{const s=a.Name?.trim(),o=a.Message?.trim(),r=parseInt(a.Rating);if(!s||!o)return;const l=document.createElement("div");l.className="swiper-slide",l.innerHTML=`
        <div class="feedback-stars">${"â˜…".repeat(r||5)}</div>
        <p class="feedback_description" title="Click to read more">${o}</p>
        <span class="feedback_name">${s}</span>
      `;const L=l.querySelector(".feedback_description");L.addEventListener("click",()=>{L.classList.toggle("is-open"),c&&setTimeout(()=>c.updateAutoHeight(300),10)}),m.appendChild(l)}),D()}catch(e){console.error("loading error:",e)}}function I(e){const t=document.querySelectorAll(".feedback-container .swiper-pagination-bullet");if(!t.length)return;t.forEach(a=>a.classList.remove("swiper-pagination-bullet-active"));const n=e.activeIndex%5;t[n]?.classList.add("swiper-pagination-bullet-active")}function D(){c&&c.destroy(!0,!0),c=new M(".feedback-swiper",{modules:[B,x],slidesPerView:1,spaceBetween:20,autoHeight:!0,observer:!0,observeParents:!0,touchEventsTarget:"wrapper",pagination:{el:".feedback-container .swiper-pagination",type:"custom",renderCustom(){let t="";for(let n=0;n<5;n++)t+=`
      <span
        class="swiper-pagination-bullet"
        data-feedback-index="${n}">
      </span>`;return t}},navigation:{nextEl:".feedback-container .swiper-button-next",prevEl:".feedback-container .swiper-button-prev"}}),c&&c.on&&(c.on("slideChange",()=>I(c)),I(c));const e=document.querySelector(".feedback-container .swiper-pagination");e&&e.addEventListener("click",t=>{const n=t.target.closest(".swiper-pagination-bullet");if(!n||!c)return;const a=parseInt(n.dataset.feedbackIndex);c.slideTo(a)})}function q(e){const t=document.querySelectorAll(".la-casa-pagination .la-casa-pagination-bullet");if(!t.length)return;t.forEach(a=>a.classList.remove("la-casa-pagination-bullet-active"));const n=e.realIndex%5;t[n]?.classList.add("la-casa-pagination-bullet-active")}function X(){const e=new M(".la-casa-swiper",{modules:[B,x],slidesPerView:1,spaceBetween:20,loop:!0,navigation:{nextEl:".la-casa-next",prevEl:".la-casa-prev"},pagination:{el:".la-casa-pagination",type:"custom",renderCustom(){let n="";for(let a=0;a<5;a++)n+=`<span class="la-casa-pagination-bullet" data-casa-index="${a}"></span>`;return n}},on:{init:function(n){q(n)},slideChange:function(n){q(n)}}}),t=document.querySelector(".la-casa-pagination");t&&t.addEventListener("click",n=>{const a=n.target.closest(".la-casa-pagination-bullet");if(!a)return;const s=parseInt(a.dataset.casaIndex);e.slideToLoop(s)})}z();X();const Q=document.querySelector("[data-feedback-modal-open]"),W=document.querySelector("[data-feedback-modal-close]"),T=document.querySelector("[data-feedback-modal]"),O=document.getElementById("feedback-star-rating"),C=document.getElementById("rating-value"),g=O.querySelectorAll("button"),d=document.getElementById("feedback-form"),A=document.getElementById("feedback-success"),Z=document.getElementById("user-name"),J=document.getElementById("user-message"),ee=document.getElementById("feedback-error");document.querySelector(".feedback-modal-list");const te=document.getElementById("hidden_iframe");let b=!1,i=0;function ne(){T.classList.remove("is-hidden"),document.body.classList.add("no-scroll"),document.addEventListener("keydown",u)}function u(e){e.type==="keydown"&&e.key!=="Escape"||(T.classList.add("is-hidden"),document.body.classList.remove("no-scroll"),document.removeEventListener("keydown",u))}Q.addEventListener("click",ne);W.addEventListener("click",u);g.forEach(e=>{e.addEventListener("click",()=>{i=Number(e.dataset.value),C.value=i,g.forEach(t=>t.classList.toggle("active",Number(t.dataset.value)<=i))})});te.addEventListener("load",()=>{if(b){d.style.display="none";const e=document.querySelector(".feedback-modal-title");e&&(e.style.display="none"),A.classList.remove("is-hidden"),d.reset(),g.forEach(t=>t.classList.remove("active")),i=0,C.value="",setTimeout(()=>{u({type:"keydown",key:"Escape"}),setTimeout(()=>{d.style.display="block",e&&(e.style.display="block"),A.classList.add("is-hidden"),b=!1},500)},3e3)}});function ae(){ee.classList.add("is-hidden"),O.classList.remove("rating-error")}d.addEventListener("submit",e=>{const t=Z.value.trim()!=="",n=J.value.trim()!=="",a=i>0;(!t||!n||!a)&&e.preventDefault(),ae(),b=!0});
//# sourceMappingURL=index.js.map
