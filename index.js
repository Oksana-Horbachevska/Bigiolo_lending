import{P as C,S as q,N as x,a as M}from"./assets/vendor-_KeN8Zr_.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();const p=document.querySelectorAll(".nav-link"),O=document.querySelectorAll("section[id]"),h=document.querySelector(".header");p.forEach(e=>{e.addEventListener("click",()=>{p.forEach(t=>t.classList.remove("current")),e.classList.add("current")})});const T=new IntersectionObserver(e=>{e.forEach(t=>{if(t.isIntersecting){const s=t.target.id;p.forEach(n=>{n.classList.toggle("current",n.getAttribute("href")===`#${s}`)})}})},{threshold:.6});O.forEach(e=>T.observe(e));const R=80;window.addEventListener("scroll",()=>{window.scrollY>R?h.classList.add("header--scrolled"):h.classList.remove("header--scrolled")});const N=document.querySelector("[data-header-open]"),b=document.querySelector("[data-menu]"),F=document.querySelector("[data-menu-close]"),_=document.querySelectorAll(".mob-nav-link");function H(){b.classList.add("is-open"),document.body.classList.add("no-scroll"),document.addEventListener("keydown",v)}function v(e){e.type==="keydown"&&e.key!=="Escape"||(b.classList.remove("is-open"),document.body.classList.remove("no-scroll"),document.removeEventListener("keydown",v))}N.addEventListener("click",H);F.addEventListener("click",v);_.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const s=e.getAttribute("href").substring(1),n=document.getElementById(s);n&&(b.classList.remove("is-open"),document.body.classList.remove("no-scroll"),n.scrollIntoView({behavior:"smooth"}))})});const m=document.querySelector(".feedback-container .swiper-wrapper"),E=document.querySelector("#feedback-form"),V="https://docs.google.com/spreadsheets/d/e/2PACX-1vSmwbeh0wcfzPaoNP18jTO7b5qbPxUKGZW55oibzdkk_qyXE0K8X85JqPh_fBGQG45bY6sRlRhAT9Hc/pub?output=csv",k="https://docs.google.com/forms/d/e/1FAIpQLSflntMv2qac48f8k4ADYZS8z0eyvngR8slREOns0hMUm943mA/formResponse";E&&k&&(E.action=k);let o;async function $(){try{const t=await(await fetch(V)).text(),s=C.parse(t,{header:!0,skipEmptyLines:!0});if(!m)return;m.innerHTML="",s.data.forEach(n=>{const a=n.Name?.trim(),i=n.Message?.trim(),c=parseInt(n.Rating);if(!a||!i)return;const l=document.createElement("div");l.className="swiper-slide",l.innerHTML=`
        <div class="feedback-stars">${"â˜…".repeat(c||5)}</div>
        <p class="feedback_description" title="Click to read more">${i}</p>
        <span class="feedback_name">${a}</span>
      `;const L=l.querySelector(".feedback_description");L.addEventListener("click",()=>{L.classList.toggle("is-open"),o&&setTimeout(()=>o.updateAutoHeight(300),10)}),m.appendChild(l)}),U()}catch(e){console.error("loading error:",e)}}function w(e){const t=document.querySelectorAll(".feedback-container .swiper-pagination-bullet");if(!t.length||!e.slides)return;t.forEach(n=>n.classList.remove("swiper-pagination-bullet-active"));const s=e.slides.length-1;e.activeIndex===0?t[0]?.classList.add("swiper-pagination-bullet-active"):e.activeIndex===s?t[2]?.classList.add("swiper-pagination-bullet-active"):t[1]?.classList.add("swiper-pagination-bullet-active")}function U(){o&&o.destroy(!0,!0),o=new q(".feedback-swiper",{modules:[x,M],slidesPerView:1,spaceBetween:20,autoHeight:!0,observer:!0,observeParents:!0,pagination:{el:".feedback-container .swiper-pagination",type:"custom",renderCustom(){return`
          <span class="swiper-pagination-bullet" data-index="first"></span>
          <span class="swiper-pagination-bullet" data-index="middle"></span>
          <span class="swiper-pagination-bullet" data-index="last"></span>
        `}},navigation:{nextEl:".feedback-container .swiper-button-next",prevEl:".feedback-container .swiper-button-prev"}}),o&&o.on&&(o.on("slideChange",()=>w(o)),w(o));const e=document.querySelector(".feedback-container .swiper-pagination");e&&e.addEventListener("click",t=>{const s=t.target.closest(".swiper-pagination-bullet");if(!s||!o)return;const n=o.slides.length;s.dataset.index==="first"&&o.slideTo(0),s.dataset.index==="middle"&&o.slideTo(Math.floor(n/2)),s.dataset.index==="last"&&o.slideTo(n-1)})}function S(e){const t=document.querySelectorAll(".la-casa-pagination .la-casa-pagination-bullet");if(!t.length)return;t.forEach(n=>n.classList.remove("la-casa-pagination-bullet-active"));const s=e.realIndex%5;t[s]?.classList.add("la-casa-pagination-bullet-active")}function z(){const e=new q(".la-casa-swiper",{modules:[x,M],slidesPerView:1,spaceBetween:20,loop:!0,navigation:{nextEl:".la-casa-next",prevEl:".la-casa-prev"},pagination:{el:".la-casa-pagination",type:"custom",renderCustom(){let s="";for(let n=0;n<5;n++)s+=`<span class="la-casa-pagination-bullet" data-casa-index="${n}"></span>`;return s}},on:{init:function(s){S(s)},slideChange:function(s){S(s)}}}),t=document.querySelector(".la-casa-pagination");t&&t.addEventListener("click",s=>{const n=s.target.closest(".la-casa-pagination-bullet");if(!n)return;const a=parseInt(n.dataset.casaIndex);e.slideToLoop(a)})}$();z();const D=document.querySelector("[data-feedback-modal-open]"),G=document.querySelector("[data-feedback-modal-close]"),P=document.querySelector("[data-feedback-modal]"),y=document.getElementById("feedback-star-rating"),B=document.getElementById("rating-value"),f=y.querySelectorAll("button"),d=document.getElementById("feedback-form"),I=document.getElementById("feedback-success"),K=document.getElementById("user-name"),X=document.getElementById("user-message"),A=document.getElementById("feedback-error");document.querySelector(".feedback-modal-list");const Y=document.getElementById("hidden_iframe");let g=!1,r=0;function Q(){P.classList.remove("is-hidden"),document.body.classList.add("no-scroll"),document.addEventListener("keydown",u)}function u(e){e.type==="keydown"&&e.key!=="Escape"||(P.classList.add("is-hidden"),document.body.classList.remove("no-scroll"),document.removeEventListener("keydown",u))}D.addEventListener("click",Q);G.addEventListener("click",u);f.forEach(e=>{e.addEventListener("click",()=>{r=Number(e.dataset.value),B.value=r,f.forEach(t=>t.classList.toggle("active",Number(t.dataset.value)<=r))})});Y.addEventListener("load",()=>{if(g){d.style.display="none";const e=document.querySelector(".feedback-modal-title");e&&(e.style.display="none"),I.classList.remove("is-hidden"),d.reset(),f.forEach(t=>t.classList.remove("active")),r=0,B.value="",setTimeout(()=>{u({type:"keydown",key:"Escape"}),setTimeout(()=>{d.style.display="block",e&&(e.style.display="block"),I.classList.add("is-hidden"),g=!1},500)},3e3)}});function Z(){A.classList.remove("is-hidden"),y.classList.add("rating-error")}function j(){A.classList.add("is-hidden"),y.classList.remove("rating-error")}d.addEventListener("submit",e=>{const t=K.value.trim()!=="",s=X.value.trim()!=="",n=r>0;if(!t||!s||!n){e.preventDefault(),Z();return}j(),g=!0});
//# sourceMappingURL=index.js.map
